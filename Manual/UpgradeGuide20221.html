<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '///gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https:///css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Upgrade to Unity 2022.1 - Unity 手册">
<title>Upgrade to Unity 2022.1 - Unity 手册</title>
<meta property="og:image" content="https://unity3d.com/files/images/ogimg.jpg">
<meta name="description" content="Note: Follow the advice in this section in release order.">
<meta property="og:description" content="Note: Follow the advice in this section in release order.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'UpgradeGuide20221';
      if(!page) page = 'index';
      var version = '2022.1';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.1/Manual/UpgradeGuide20221.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.1/Manual/UpgradeGuide20221.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.1/Manual/UpgradeGuide20221.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.1/Manual/UpgradeGuide20221.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2022.1/Manual/UpgradeGuide20221.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.1/Manual/UpgradeGuide20221.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2022.1/Manual/UpgradeGuide20221.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2022.1/Documentation/Manual/UpgradeGuide20221.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="///ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UpgradeGuide20221.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UpgradeGuide20221.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UpgradeGuide20221.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UpgradeGuide20221.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UpgradeGuide20221.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UpgradeGuide20221.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UpgradeGuide20221.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UpgradeGuide20221.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UpgradeGuide20221.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UpgradeGuide20221.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UpgradeGuide20221.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UpgradeGuide20221.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UpgradeGuide20221.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UpgradeGuide20221.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UpgradeGuide20221.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UpgradeGuide20221.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UpgradeGuide20221.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UpgradeGuide20221.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UpgradeGuide20221.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UpgradeGuide20221.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.1/Documentation/Manual/UpgradeGuide20221.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.1/Manual/UpgradeGuide20221.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.1/Manual/UpgradeGuide20221.html">日本語</a></li>
<li><a data-lang="es" href="/es/2022.1/Manual/UpgradeGuide20221.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2022.1/Manual/UpgradeGuide20221.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2022.1/Manual/UpgradeGuide20221.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/UpgradeGuide20221.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/UpgradeGuide20221.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/UpgradeGuide20221.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/UpgradeGuide20221.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/UpgradeGuide20221.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/UpgradeGuide20221.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/UpgradeGuide20221.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/UpgradeGuide20221.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/UpgradeGuide20221.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/UpgradeGuide20221.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/UpgradeGuide20221.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/UpgradeGuide20221.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/UpgradeGuide20221.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/UpgradeGuide20221.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/UpgradeGuide20221.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/UpgradeGuide20221.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/UpgradeGuide20221.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/UpgradeGuide20221.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/UpgradeGuide20221.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/UpgradeGuide20221.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.1</a></li>
<li><a href="UnityOverview.html">在 Unity 中操作</a></li>
<li><a href="UpgradeGuides.html">升级 Unity</a></li>
<li>Upgrade to Unity 2022.1</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="APIUpdater.html"></a></span><div class="tip">API updater</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UpgradeGuide2021LTS.html"></a></span><div class="tip">Upgrading to Unity 2021 LTS</div>
</div>
</div></div>
<h1>Upgrade to Unity 2022.1</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p><strong>Note:</strong> Follow the advice in this section in release order. </p>

<p>To upgrade between LTS versions, such as 2019LTS to 2021LTS, you need to read the LTS upgrade guides between the versions, so go through the 2019LTS upgrade guide and then the 2021LTS upgrade guide. </p>

<p>To upgrade between regular (non-LTS) versions, such as 2019.4 to 2021.1, you need to read the LTS upgrade guides between those versions and then any minor version upgrade guides between the last LTS version and the version you want to upgrade to - so read the 2018LTS, 2019LTS, 2020LTS, and 2021.1 upgrade guides in that order.</p>

<p>This page lists changes in the Unity 2022.1 version which might affect existing projects when you upgrade from the 2021 LTS version to 2022.1.</p>

<p><strong>Note</strong>: 2021 LTS is also known as 2021.3.</p>

<h3>页面大纲</h3>

<ul>
<li><a href="#artdrive">Articulation Drive <code>forceLimit</code> property has been fixed to accept force input instead of impulse</a></li>
<li><a href="#lightmap">Change to generated lightmap UVs</a></li>
<li><a href="#gradient">Change to <code>GradientField</code> in the UI Toolkit</a></li>
<li><a href="#fields">UI Toolkit Numeric and Compound fields are available at runtime</a></li>
<li><a href="#keys">The Physical Keys option in Input Managed is enabled by default</a></li>
<li><a href="#batch">Added support for <code>BatchRendererGroup</code></a></li>
</ul>

<p><a name="artdrive"></a></p>

<h2>Articulation Drive <code>forceLimit</code> property has been fixed to accept force input instead of impulse</h2>

<p>The Articulation Drive <code>forceLimit</code> feature was used as an impulse limit when it should have been a force limit. This made the force limit dependent on the <code>fixedDeltaTime</code> value.</p>

<p>If you have already adapted to the use of this value as an impulse, when you upgrade, your values for <code>forceLimit</code> in your Articulation Drive in the Articulation Body component will be incorrect by a large scale.</p>

<p>There are checks for when you open an older project. When you upgrade a project, Unity automatically divides the relevant values by the <code>Time.fixedDeltaTime</code> set in the <strong>ProjectSettings</strong> &gt; <strong>Time</strong> page to avoid the incorrect configuration. This catches most cases where robots are simulated based on the project set Time value.</p>

<p>If you use custom time values from script to simulate your robots, then you need to manually correct these values.</p>

<p><a name="lightmap"></a></p>

<h2>Change to generated lightmap UVs</h2>

<p>Unity’s UV generation procedure has changed. As a result, lightmaps may appear corrupted in projects that use the <a href="LightingGiUvs-GeneratingLightmappingUVs.html">Generate Lightmap UVs option</a> in Model Import Settings. To resolve this problem, rebake all of the lightmaps in your project.</p>

<p>This change only affects projects that use Generate Lightmap UVs.</p>

<p><a name="gradient"></a></p>

<h2>Change to <code>GradientField</code> in the UI Toolkit</h2>

<p>From Unity 2022.1, the color picker in <code>GradientField</code> doesn’t have HDR enabled by default. Existing projects that use <code>GradientField</code> now use a regular color picker instead of the HDR color picker.</p>

<p>To continue the use of a HDR color picker, you can enable it using the HDR property in <code>GradientField</code>.</p>

<p><a name="fields"></a></p>

<h2>UI Toolkit Numeric and Compound fields are available at runtime</h2>

<p>The following fields are now available that work automatically at runtime:</p>

<ul>
<li><code>DoubleField</code></li>
<li><code>FloatField</code></li>
<li><code>IntegerField</code></li>
<li><code>LongField</code></li>
<li><code>Hash128Field</code></li>
<li><code>RectField</code></li>
<li><code>RectIntField</code></li>
<li><code>Vector2Field</code></li>
<li><code>Vector3Field</code></li>
<li><code>Vector4Field</code></li>
<li><code>Vector2IntField</code></li>
<li><code>Vector3IntField</code></li>
<li><code>BoundsField</code></li>
<li><code>BoundsIntField</code></li>
</ul>

<p>The UXML files in your projects don’t update and work upon upgrading. However, when you add new promoted types through the UI Builder, it breaks the backwards compatibility of UXML assets with older Unity versions. To keep the UXML assets backwards compatible, you need to use the old types (<code>UnityEditor.UIElements</code> namespace) in UXML files.</p>

<p><a name="keys"></a></p>

<h2>The Physical Keys option in Input Managed is enabled by default</h2>

<p>The Physical keys option allows you to map key codes to the physical keyboard layout, rather than to the language-specific layout that may vary between users in different regions. For example, on some keyboards the first row of letters reads “QWERTY”, and on others it reads “AZERTY”. This means if you scripted specific controls to use the well known “WASD” keys for movement, they would not be in the correct physical arrangement (like the arrow-key arrangement) on an AZERTY-layout keyboard. With Physical Keys enabled, Unity uses a generic ANSI/ISO “Qwerty” layout to represent the physical location of the keys regardless of the user’s actual layout. This means if you specify the “Q” key, it will always be the left-most letter on the first row of letter keys, even if the user’s keyboard has a different letter in that position.</p>

<p>As of 2022.1 the option is enabled by default with intent of deprecating and removing old behavior in the future.</p>

<p><a name="batch"></a></p>

<h2>Added support for <code>BatchRendererGroup</code>
</h2>

<p>The <code>BatchRendererGroup</code> API was originally written for the MegaCity demo but was never fully documented or usable without a lot of implementation details. This API has been rewritten from the ground up and is fully documented and supported.</p>

<p>For information on how to use the new interface, see the <a href="batch-renderer-group.html">BatchRendererGroup</a> page.</p>
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="APIUpdater.html"></a></span><div class="tip">API updater</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="UpgradeGuide2021LTS.html"></a></span><div class="tip">Upgrading to Unity 2021 LTS</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.1</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
