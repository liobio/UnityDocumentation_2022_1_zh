<!DOCTYPE html><html class="no-js" lang="zh-cn">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
      new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
      j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
      '///gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
      })(window,document,'script','dataLayer','GTM-5V25JL6');
    </script><link href="https:///css?family=Roboto&amp;display=swap" rel="stylesheet">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="twitter:card" content="summary">
<meta property="og:title" content="Building your WebGL application - Unity 手册">
<title>Building your WebGL application - Unity 手册</title>
<meta property="og:image" content="https://docs.unity3d.com/cn/2022.1/uploads/Main/WebGLBuilding-BuildPlayerOptions.png">
<meta name="description" content="To create a build for WebGL, go to File &gt; Build Settings from Unity’s main menu. In the Platform list, select WebGL and then click Switch Platform.">
<meta property="og:description" content="To create a build for WebGL, go to File &gt; Build Settings from Unity’s main menu. In the Platform list, select WebGL and then click Switch Platform.">
<meta name="author" content="Unity Technologies">
<link rel="shortcut icon" href="https://unity.com/themes/contrib/unity_base/images/favicons/favicon.ico">
<link rel="icon" type="image/png" href="../StaticFiles/images/favicons/favicon.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="../StaticFiles/images/favicons/apple-touch-icon-152x152.png">
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="../StaticFiles/images/favicons/apple-touch-icon-144x144.png">
<link rel="apple-touch-icon-precomposed" sizes="120x120" href="../StaticFiles/images/favicons/apple-touch-icon-120x120.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="../StaticFiles/images/favicons/apple-touch-icon-114x114.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="../StaticFiles/images/favicons/apple-touch-icon-72x72.png">
<link rel="apple-touch-icon-precomposed" href="../StaticFiles/images/favicons/apple-touch-icon.png">
<meta name="msapplication-TileColor" content="#222c37">
<meta name="msapplication-TileImage" content="../StaticFiles/images/favicons/tileicon-144x144.png">
<script type="text/javascript" src="https://" charset="UTF-8" data-domain-script="6e91be4c-3145-4ea2-aa64-89d716064836"></script><script type="text/javascript">
        function OptanonWrapper() { }
    </script><script>
      var docs_type = 'Manual';
      var lang = 'cn';
      var page = 'webgl-building';
      if(!page) page = 'index';
      var version = '2022.1';
      var docs_versions = [{version: '2022.1',version_string: '2022.1',supported: true},{version: '2021.3',version_string: '2021.3',supported: true},{version: '2021.2',version_string: '2021.2',supported: false},{version: '2021.1',version_string: '2021.1',supported: false},{version: '2020.3',version_string: '2020.3',supported: true},{version: '2020.2',version_string: '2020.2',supported: false},{version: '2020.1',version_string: '2020.1',supported: false},{version: '2019.4',version_string: '2019.4',supported: true},{version: '2019.3',version_string: '2019.3',supported: false},{version: '2019.2',version_string: '2019.2',supported: false},{version: '2019.1',version_string: '2019.1',supported: false},{version: '2018.4',version_string: '2018.4',supported: false},{version: '2018.3',version_string: '2018.3',supported: false},{version: '2018.2',version_string: '2018.2',supported: false},{version: '2018.1',version_string: '2018.1',supported: false},{version: '2017.4',version_string: '2017.4',supported: false},{version: '2017.3',version_string: '2017.3',supported: false},{version: '2017.2',version_string: '2017.2',supported: false},{version: '2017.1',version_string: '2017.1',supported: false},{version: '5.6',version_string: '560',supported: false},];</script><script type="text/javascript" src="../StaticFiles/js/jquery.js"></script><script type="text/javascript" src="../StaticFiles/js/core.js"></script><script type="text/javascript" src="../StaticFiles/js/jquery.sidebar.min.js"></script><script type="text/javascript" src="docdata/toc.js"></script><script type="text/javascript" src=""></script><script type="text/javascript" src="../StaticFiles/js/custom.js"></script><link rel="stylesheet" type="text/css" href="../StaticFiles/css/core.css">
<link rel="stylesheet" type="text/css" href="../StaticFiles/css/custom.css">
<link rel="canonical" href="https://docs.unity3d.com/cn/2022.1/Manual/webgl-building.html">
<link rel="alternate" href="https://docs.unity3d.com/en/2022.1/Manual/webgl-building.html" hreflang="en">
<link rel="alternate" href="https://docs.unity3d.com/cn/2022.1/Manual/webgl-building.html" hreflang="zh">
<link rel="alternate" href="https://docs.unity3d.com/ja/2022.1/Manual/webgl-building.html" hreflang="ja">
<link rel="alternate" href="https://docs.unity3d.com/es/2022.1/Manual/webgl-building.html" hreflang="es">
<link rel="alternate" href="https://docs.unity3d.com/kr/2022.1/Manual/webgl-building.html" hreflang="ko">
<link rel="alternate" href="https://docs.unity3d.com/ru/2022.1/Manual/webgl-building.html" hreflang="ru">
<link rel="alternate" href="https://docs.unity3d.com/2022.1/Documentation/Manual/webgl-building.html" hreflang="x-default">
</head>
<body>
<noscript><iframe src="///ns.html?id=GTM-5V25JL6" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<div class="header-wrapper">
<div id="header" class="header"><div class="content">
<div class="spacer"><div class="menu">
<div id="nav-open" for="nav-input"><span></span></div>
<div class="logo"><a href="./index.html"></a></div>
<div class="search-form"><form action="30_search.html" method="get" class="apisearch">
<input type="text" name="q" placeholder="搜索手册..." autosave="Unity Reference" results="5" class="sbox field" id="q"><input type="submit" class="submit">
</form></div>
<ul class="menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
</div></div>
<div class="more">
<div class="filler"></div>
<ul><li><a href="https://unity3d.com/">
                unity3d.com
              </a></li></ul>
</div>
</div></div>
<div class="toolbar"><div class="content">
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/webgl-building.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/webgl-building.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/webgl-building.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/webgl-building.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/webgl-building.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/webgl-building.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/webgl-building.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/webgl-building.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/webgl-building.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/webgl-building.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/webgl-building.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/webgl-building.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/webgl-building.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/webgl-building.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/webgl-building.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/webgl-building.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/webgl-building.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/webgl-building.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/webgl-building.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/webgl-building.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<ul class="nav-menu-items">
<li class="menu-item"><a href="../Manual/index.html" class="selected">手册</a></li>
<li class="menu-item"><a href="../ScriptReference/index.html" class="">脚本 API</a></li>
</ul>
<div class="lang-switcher">
<div class="current toggle" data-target=".lang-list">
<div class="lbl">语言:
        <span class="b">中文</span>
</div>
<div class="arrow"></div>
</div>
<div class="lang-list" style="display:none;"><ul>
<li><a data-lang="en" href="/2022.1/Documentation/Manual/webgl-building.html">English</a></li>
<li><a data-lang="cn" href="/cn/2022.1/Manual/webgl-building.html">中文</a></li>
<li><a data-lang="ja" href="/ja/2022.1/Manual/webgl-building.html">日本語</a></li>
<li><a data-lang="es" href="/es/2022.1/Manual/webgl-building.html">Español</a></li>
<li><a data-lang="kr" href="/kr/2022.1/Manual/webgl-building.html">한국어</a></li>
<li><a data-lang="ru" href="/ru/2022.1/Manual/webgl-building.html">Русский</a></li>
</ul></div>
</div>
</div></div>
</div>
<div id="master-wrapper" class="master-wrapper clear">
<div id="sidebar" class="sidebar hidden"><div class="sidebar-wrap"><div class="content"><div class="sidebar-menu"><div class="toc">
<h2>手册</h2>
<div class="version-switcher">
<div class="current toggle" data-target=".version-list"><div class="version-number">
<div class="d-inline-block">
          Version:
          <b>2022.1</b>
</div>
<div class="d-inline-block arrow"></div>
</div></div>
<div class="version-list" style="display:none;">
<ul class="versions">
<li class="supported"><a class="docs_version_url_2022.1" href="/cn/2022.1/Manual/webgl-building.html">2022.1</a></li>
<li class="supported"><a class="docs_version_url_2021.3" href="/cn/2021.3/Manual/webgl-building.html">2021.3</a></li>
<li class=""><a class="docs_version_url_2021.2" href="/cn/2021.2/Manual/webgl-building.html">2021.2</a></li>
<li class=""><a class="docs_version_url_2021.1" href="/cn/2021.1/Manual/webgl-building.html">2021.1</a></li>
<li class="supported"><a class="docs_version_url_2020.3" href="/cn/2020.3/Manual/webgl-building.html">2020.3</a></li>
<li class=""><a class="docs_version_url_2020.2" href="/cn/2020.2/Manual/webgl-building.html">2020.2</a></li>
<li class=""><a class="docs_version_url_2020.1" href="/cn/2020.1/Manual/webgl-building.html">2020.1</a></li>
<li class="supported"><a class="docs_version_url_2019.4" href="/cn/2019.4/Manual/webgl-building.html">2019.4</a></li>
<li class=""><a class="docs_version_url_2019.3" href="/cn/2019.3/Manual/webgl-building.html">2019.3</a></li>
<li class=""><a class="docs_version_url_2019.2" href="/cn/2019.2/Manual/webgl-building.html">2019.2</a></li>
<li class=""><a class="docs_version_url_2019.1" href="/cn/2019.1/Manual/webgl-building.html">2019.1</a></li>
<li class=""><a class="docs_version_url_2018.4" href="/cn/2018.4/Manual/webgl-building.html">2018.4</a></li>
<li class=""><a class="docs_version_url_2018.3" href="/cn/2018.3/Manual/webgl-building.html">2018.3</a></li>
<li class=""><a class="docs_version_url_2018.2" href="/cn/2018.2/Manual/webgl-building.html">2018.2</a></li>
<li class=""><a class="docs_version_url_2018.1" href="/cn/2018.1/Manual/webgl-building.html">2018.1</a></li>
<li class=""><a class="docs_version_url_2017.4" href="/cn/2017.4/Manual/webgl-building.html">2017.4</a></li>
<li class=""><a class="docs_version_url_2017.3" href="/cn/2017.3/Manual/webgl-building.html">2017.3</a></li>
<li class=""><a class="docs_version_url_2017.2" href="/cn/2017.2/Manual/webgl-building.html">2017.2</a></li>
<li class=""><a class="docs_version_url_2017.1" href="/cn/2017.1/Manual/webgl-building.html">2017.1</a></li>
<li class=""><a class="docs_version_url_560" href="/cn/560/Manual/webgl-building.html">5.6</a></li>
<div class="versionsWithThisPage" style="display:none;"><li><p>包含此页的版本：</p></li></div>
<div class="versionsWithoutThisPage" style="display:none;"><li><p>不含此页的版本：</p></li></div>
</ul>
<ul class="description">
<li>
<div class="supported-box"></div>受支持</li>
<li>
<div class="legacy-box"></div>旧版</li>
</ul>
</div>
</div>
<div class="clear"></div>
</div></div></div></div></div>
<div id="content-wrap" class="content-wrap opened-sidebar"><div class="content-block"><div class="content">
<div class="section">
<div class="breadcrumbs clear"><ul>
<li><a href="UnityManual.html">Unity User Manual 2022.1</a></li>
<li><a href="PlatformSpecific.html">平台开发</a></li>
<li><a href="webgl.html">WebGL</a></li>
<li><a href="webgl-building-distribution.html">Building and distributing a WebGL project</a></li>
<li>Building your WebGL application</li>
</ul></div>
<div class="mb20"><div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="webgl-building-distribution.html"></a></span><div class="tip">Building and distributing a WebGL project</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="webgl-assetbundles.html"></a></span><div class="tip">Reduce load times with AssetBundles</div>
</div>
</div></div>
<h1>Building your WebGL application</h1>
<!--BeginSwitchLink--><!--EndSwitchLink-->
<div class="clear"></div>

<p>To create a build for WebGL, go to <strong>File &gt; Build Settings</strong> from Unity’s main menu. In the Platform list, select <strong>WebGL</strong> and then click <strong>Switch Platform</strong>.</p>

<p>When you have configured the Build Settings, choose one the following options:</p>

<ul>
<li>
<strong>Build</strong>: Builds your application into a Player.</li>
<li>
<strong>Build and Run</strong>: Builds your application in a Player, and opens that Player on your target platform.</li>
</ul>

<figure>
<img src="../uploads/Main/WebGLBuilding-BuildPlayerOptions.png" alt="Build Settings 窗口">
<figcaption>Build Settings 窗口</figcaption>
</figure>

<p>The Unity build system for WebGL supports the following settings:</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;" colspan="2"><strong>设置</strong></th>
	<th style="text-align:left;"><strong>功能</strong></th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Texture Compression</strong></td>
	<td style="text-align:left;">The texture compression format to use for the build. The options are:</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>Use Player Settings</strong></td>
	<td style="text-align:left;">This is the default selection. It uses the texture compression format you set in the <a href="class-PlayerSettingsWebGL.html">Player settings</a> window.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>ETC2</strong></td>
	<td style="text-align:left;">Uses ETC2 format, which is widely supported on mobile devices.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>ASTC</strong></td>
	<td style="text-align:left;">Uses ASTC format, which is widely supported on mobile devices.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>DXT</strong></td>
	<td style="text-align:left;">Uses DXT format, which is widely supported on desktop devices.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Development Build</strong></td>
	<td style="text-align:left;">Enable this setting to include scripting debug symbols and the Profiler in your build. When you enable this, Unity sets the <code>DEVELOPMENT_BUILD</code> scripting define. You should use this setting only when you want to test your application. The development builds don’t minify content, which means the development builds are large to distribute.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Code Optimization</strong></td>
	<td style="text-align:left;">Select the optimization mode to use for compiling the WebGL code.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>Speed</strong></td>
	<td style="text-align:left;">This is the default setting. Select this to generate WebGL code that’s optimized for runtime performance.</td>
</tr>
<tr>
	<td style="text-align:left;"></td>
	<td style="text-align:left;"><strong>Size</strong></td>
	<td style="text-align:left;">Select this to generate WebGL code that’s optimized for build size. This is useful for reducing WebGL games to the smallest downloadable size, and for large projects if a mobile browser (Android or iOS) refuses to load the default optimize-for-speed WebAssembly builds as too large for mobile devices to consume.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Autoconnect Profiler</strong></td>
	<td style="text-align:left;">Typically, when enabled, this setting allows you to automatically connect the Unity Profiler to your build. However for WebGL, as you can’t connect the <a href="Profiler.html">Profiler</a> to a running build, use this option to connect the content to the Editor instead. This is because the Profiler connection is handled using WebSockets on WebGL, but a web browser only allows outgoing connections from the content. For this setting to be available, you should enable the <strong>Development Build</strong> option.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Deep Profiling</strong></td>
	<td style="text-align:left;">Enable this setting to activate <a href="ProfilerWindow.html#deep-profiling">Deep Profiling</a> in the Profiler. This makes the Profiler instrument every function call in your application and returns more detailed profiling data. When you enable Deep Profiling Support, it might slow down script execution. This option is only available if you enable the <strong>Development Build</strong> option.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Build</strong></td>
	<td style="text-align:left;">Use it to build your application.</td>
</tr>
<tr>
	<td style="text-align:left;" colspan="2"><strong>Build And Run</strong></td>
	<td style="text-align:left;">Use it to view the WebGL Player locally. Unity uses a local web server to host your build, and opens it from a localhost URL. Alternatively, you can use a custom local web server with properly configured response headers. For more information, see <a href="webgl-deploying.html">Compressed builds and server configuration</a>.</td>
</tr>
</tbody>
</table>

<p>For changing the settings for <strong>Asset Import Overrides</strong>, see <a href="BuildSettings.html#AssetImportOverride">Build Settings</a>.</p>

<h2>Build Folder</h2>

<p>The <code>Build</code> folder contains the following files (<code>[ExampleBuild]</code> represents the name of the target build folder).</p>

<table>
<colgroup>
<col style="text-align:left;">
<col style="text-align:left;">
</colgroup>

<thead>
<tr>
	<th style="text-align:left;">文件名</th>
	<th style="text-align:left;">包含</th>
</tr>
</thead>

<tbody>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].loader.js</code></td>
	<td style="text-align:left;">The JavaScript code that the web page needs to load the Unity content.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].framework.js</code></td>
	<td style="text-align:left;">JavaScript 运行时和插件。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].wasm</code></td>
	<td style="text-align:left;">WebAssembly 二进制文件。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].mem</code></td>
	<td style="text-align:left;">A binary image to initialize the heap memory for your Player. Unity generates this file for multi-threaded WebAssembly builds only.</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].data</code></td>
	<td style="text-align:left;">资源数据和场景。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].symbols.json</code></td>
	<td style="text-align:left;">调试错误堆栈跟踪所需的调试符号名称。仅当启用 Debug Symbols 选项时 (<strong>File</strong> &gt; <strong>Build Settings</strong> &gt; <strong>Player Settings</strong>)，才会为 Release 构建生成此文件。</td>
</tr>
<tr>
	<td style="text-align:left;"><code>[ExampleBuild].jpg</code></td>
	<td style="text-align:left;">A background image, which displays while the build is loading. This file is only generated when a Background Image is available in the Player Settings (<strong>File</strong> &gt; <strong>Build Settings</strong> &gt; <strong>Player Settings</strong> &gt; <strong>Splash Image</strong>). For more information, see <a href="class-PlayerSettingsSplashScreen.html">Splash Screen</a>.</td>
</tr>
</tbody>
</table>

<p>如果对构建启用某种<strong>压缩方法</strong>，Unity 会识别与压缩方法对应的扩展名，并将此扩展名添加到 Build 子文件夹中的文件的名称中。如果启用 <strong>Decompression Fallback</strong>，Unity 将扩展名 <code>.unityweb</code> 附加到构建文件名。否则，Unity 为 Gzip 压缩方法附加扩展名 <code>.gz</code>，或者为 Brotli 压缩方法附加扩展名 <code>.br</code>。
有关更多信息，请参阅 <a href="webgl-deploying.html">WebGL：压缩构建和服务器配置</a>。</p>

<p>If you enable <strong>Name Files As Hashes</strong> in the <strong>Player Settings</strong>, Unity uses the hash of the file content instead of the default filename. This applies to each file in the build folder. This option allows you to upload updated versions of the game builds into the same folder on the server, and only upload the files which have changed between build iterations.</p>

<p><strong>注意</strong>：在某些浏览器中可能无法直接从文件系统打开播放器。这是由于本地文件 URL 应用了安全限制。</p>

<h2>Deep Profiling Support</h2>

<p>启用 <strong>Deep Profiling Support</strong> 设置可使 Unity Profiler 对应用程序中的每次函数调用都进行性能分析。如需了解更多信息，请参阅有关<a href="ProfilerWindow.html#deep-profiling">深度性能分析</a>的文档。</p>

<h2>Enable Exceptions</h2>

<p>Open <strong>Publishing Settings</strong> to access <strong>Enable Exceptions</strong>. <strong>Enable Exceptions</strong> allows you to specify how unexpected code behavior (also known as errors) is handled at run time. It has these options:</p>

<ul>
<li>__None__：如果不需要任何异常支持，请选择此选项。此选项可提供最佳性能和最小构建。使用此选项，抛出的任何异常都会导致内容因该设置中的错误而停止。</li>
<li>__Explicitly Thrown Exceptions Only__（默认设置）：选择此选项可捕获从脚本中的 <code>throw</code> 语句显式指定的异常，并可确保调用 <code>finally</code> 代码块。请注意，选择此选项会使脚本中生成的 JavaScript 代码变得更长且更慢；仅当脚本是项目的主要瓶颈时，这才会成为问题。</li>
<li>
<strong>Full Without Stacktrace</strong>: Select this option to capture:
 * Exceptions which are explicitly specified from <code>throw</code> statements in your scripts (the same as in the <em>Explicitly Thrown Exceptions Only</em> option)

<ul>
<li>Null 引用</li>
<li>越界数组访问</li>
</ul>
</li>
<li>__Full With Stacktrace__：此选项与上面的选项类似，但也捕获堆栈跟踪。Unity 通过在代码中嵌入对异常检查来生成这些异常，因此该选项会降低性能并增加浏览器内存使用量。仅用于调试，并始终在 64 位浏览器中进行测试。</li>
</ul>

<h2>数据缓存</h2>

<p>To access <strong>Data Caching</strong>, go to <strong>Publishing Setings</strong> via <strong>File</strong> &gt; <strong>Build Settings</strong> &gt; <strong>Player Settings</strong> &gt; <strong>WebGL</strong>. This enables the browser to cache the main data files into the IndexedDB database.</p>

<p>使用默认浏览器 HTTP 缓存并不能保证浏览器缓存特定响应。这是因为浏览器 HTTP 缓存空间有限，浏览器可能无法缓存过大的文件。</p>

<p>为了提高加载速度，IndexedDB 允许您缓存超过浏览器限制的文件。缓存更多文件时，下一次构建运行期间下载内容在用户计算机上可用的机会就增加了。</p>

<p>数据缓存仅为 HTTP 响应缓存 IndexedDB 缓存中的 <code>.data</code> 文件。要缓存资源包，需要启用数据缓存并覆盖 <code>unityInstance.Module.cacheControl()</code>。
为此，请确保 <code>Module.cacheControl(url)</code> 为请求的资源包 URL 返回 <code>must-revalidate</code>。例如，您可以在 createUnityInstance() 返回的 Promise 的执行回调中重写 unityInstance.Module.cacheControl() 函数。
有关 createUnityInstance() 的更多信息，请参阅 <a href="webgl-deploying.html">WebGL：压缩构建和服务器配置</a>。</p>

<h2>Texture Compression</h2>

<p>The texture compression setting in WebGL lets you create builds that target platforms based on the texture compression formats they support. The texture compression format value you set here has priority over the <a href="class-PlayerSettingsWebGL.html">Player settings</a> texture compression format value.
To run your game on both desktop and mobile browsers with compressed textures, you might want to create two builds:
* Targeting desktop browsers with DXT set as the texture compression format
* Targeting mobile browsers with ASTC set as the texture compression format</p>

<p><a name="desktop+mobile"></a></p>

<h3>Create builds for desktop and mobile browsers from a script</h3>

<p>You can run a build for both desktop browsers and mobile browsers with the corresponding texture compression formats simultaneously using a script. For example:</p>

<pre><code>using System.Collections;
using System.Collections.Generic;
using UnityEngine;
using UnityEditor;
using System.Diagnostics;
using System.IO;
using UnityEditor.Build.Reporting;

public class comboBuild
{
    //This creates a menu item to trigger the dual builds https://docs.unity3d.com/ScriptReference/MenuItem.html 

    [MenuItem("Game Build Menu/Dual Build")]
    public static void BuildGame()
    {
      //This builds the player twice: a build with desktop-specific texture settings (WebGL_Build) as well as mobile-specific texture settings (WebGL_Mobile), and combines the necessary files into one directory (WebGL_Build)
      
      string dualBuildPath    = "WebGLBuilds";
      string desktopBuildName = "WebGL_Build";
      string mobileBuildName  = "WebGL_Mobile";

      string desktopPath = Path.Combine(dualBuildPath, desktopBuildName);
      string mobilePath  = Path.Combine(dualBuildPath, mobileBuildName);
      string[] scenes = new string[] {"Assets/scene.unity"};

      EditorUserBuildSettings.webGLBuildSubtarget = WebGLTextureSubtarget.DXT;
      BuildPipeline.BuildPlayer(scenes, desktopPath, BuildTarget.WebGL, BuildOptions.Development); 

      EditorUserBuildSettings.webGLBuildSubtarget = WebGLTextureSubtarget.ASTC;
      BuildPipeline.BuildPlayer(scenes,  mobilePath, BuildTarget.WebGL, BuildOptions.Development); 

      // Copy the mobile.data file to the desktop build directory to consolidate them both
      FileUtil.CopyFileOrDirectory(Path.Combine(mobilePath, "Build", mobileBuildName + ".data"), Path.Combine(desktopPath, "Build", mobileBuildName + ".data"));
    }  
}
</code></pre>

<p>You can modify the <a href="webgl-templates.html">WebGL template’s</a> <code>index.html</code> file to select the appropriate data file if there’s support for the texture compression format extension:</p>

<pre><code>// choose the data file based on whether there's support for the ASTC texture compression format
      var dataFile = "/{{{ DATA_FILENAME }}}";                                  
      var c = document.createElement("canvas");                                 
      var gl = c.getContext("webgl");                                      
      var gl2 = c.getContext("webgl2");                                    
      if ((gl &amp;&amp; gl.getExtension('WEBGL_compressed_texture_astc')) || (gl2 &amp;&amp;   
              gl2.getExtension('WEBGL_compressed_texutre_astc'))) {             
        dataFile =  "/WebGL_Mobile.data";                                       
      }                                                                         

      var buildUrl = "Build";
      var loaderUrl = buildUrl + "/{{{ LOADER_FILENAME }}}";                    
      var config = {                                                            
        dataUrl: buildUrl + dataFile,                                           
        frameworkUrl: buildUrl + "/{{{ FRAMEWORK_FILENAME }}}",                 
#if USE_WASM                                                                    
        codeUrl: buildUrl + "/{{{ CODE_FILENAME }}}",                           
#endif                                                                          
#if MEMORY_FILENAME                                                             
        memoryUrl: buildUrl + "/{{{ MEMORY_FILENAME }}}",                       
#endif
#if SYMBOLS_FILENAME                                                            
        symbolsUrl: buildUrl + "/{{{ SYMBOLS_FILENAME }}}",                     
#endif                                                                          
        streamingAssetsUrl: "StreamingAssets",                                
        companyName: {{{ JSON.stringify(COMPANY_NAME) }}},
        productName: {{{ JSON.stringify(PRODUCT_NAME) }}},
      productVersion: {{{ JSON.stringify(PRODUCT_VERSION) }}},                
        showBanner: unityShowBanner,                                            
     };  

</code></pre>

<hr>

<ul>
<li>
<span class="page-history">在 Unity 2019.1 中删除了 asm.js 链接器目标</span>
*<span class="page-history">Unity 2020.1 中添加了构建文件更新和数据缓存</span>
</li>
</ul>
<!-- area:platforms -->
<div class="nextprev clear">
<div class="icon tt left mr1" data-distance="-40|-30|top">
<span class="prev"><a href="webgl-building-distribution.html"></a></span><div class="tip">Building and distributing a WebGL project</div>
</div>
<div class="icon tt right" data-distance="-40|-30|top">
<span class="next"><a href="webgl-assetbundles.html"></a></span><div class="tip">Reduce load times with AssetBundles</div>
</div>
</div>
</div>
<div class="footer-wrapper">
<div class="footer clear">
<div class="copy">Copyright © 2022 Unity Technologies. Publication 2022.1</div>
<div class="menu">
<a href="https://learn.unity.com/">教程</a><a href="https://answers.unity3d.com">社区答案</a><a href="https://support.unity3d.com/hc/en-us">知识库</a><a href="https://forum.unity3d.com">论坛</a><a href="https://unity3d.com/asset-store">Asset Store</a>
</div>
</div>
<div></div>
</div>
</div></div></div>
</div>
</body>
</html>
